<div class="container-fluid">
    <div class="row">
        <div class="col-md-12" style="margin:20% 40%" *ngIf="!data.section">
            <img src="assets/images/basicloader.gif" alt="" srcset="">
        </div>
    </div>

    <div class="row animated slideInLeft" *ngIf="data?.section">
        <div id="style-2" class="col-md" style="overflow-y:scroll !important;overflow-x:hidden !important;height:90vh ;width:100% !important">
            <div class="row justify-content-center">
                <ng-container *ngFor="let sec of data?.section">
                    <ng-container *ngIf="sec?.imageViewType===1">
                        <section-two-view class="width-100" [data]="sec" [isEditable]="isEditable" (showModal)="showChildModal($event)"></section-two-view>

                    </ng-container>
                    <ng-container *ngIf="sec?.imageViewType===2">
                        <section-one-view class="width-100" [data]="sec" (showModal)="showChildModal($event)"></section-one-view>
                    </ng-container>

                    <!-- [productList]="productList" [isEditable]="isEditable" (productList)="calculateMSLAgain($event)" -->
                    <ng-container *ngIf="sec?.imageViewType===3">
                        <section-three-view class="width-100" [data]="sec" [isEditable]="isEditable" (productList)="calculateMSLAgain($event)" (showModal)="showChildModal($event)"></section-three-view>
                    </ng-container>
                </ng-container>






                <!-- <ng-container *ngFor="let sec of data.section">
                    <h4>{{sec.sectionTitle}}</h4>

                    <div style="border-bottom:2px solid black;width: 100%;margin: 5px 0"></div>

                    <ng-container *ngFor="let img of sec.imageList ;let i=index">

                        <div class="col-md-6">
                            <img src="{{ip}}{{img.url}}" width="400" height="400" alt="" (click)="showChildModal(img)">
                        </div>
                    </ng-container>


                    <ng-container class="mt-5 justify-content-center" *ngIf="sec?.tagsList">
                        <div class="col-md-12 mt-5">
                            <table class="table table-bordered">
                                <tr *ngFor="let tab of sec.tagsList;let j= index">
                                    <th style="width:50%;background: lightgray;">{{tab.heading}}</th>
                                    <td style="width:50%;word-break: break-all">{{tab.value}}</td>
                                </tr>

                            </table>

                        </div>
                    </ng-container>
                    <div style="border-bottom:2px solid black;width: 100%;margin: 5px 0">

                    </div>

                </ng-container> -->



            </div>
        </div>
        <div class="col-md-3" *ngIf="data?.criteria && isFromShop">
            <!-- ;right:15px;position:fixed;top:20px -->
            <!-- style="height:600px;width: 100%;margin: 10px auto" -->
            <div class="card">
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-bordered" style="line-height:1">
                            <tr *ngFor="let item of data.criteria;let i=index">
                                <td>
                                    <label class="container">{{item?.title}} 
                                                <input *ngIf="item?.id!=7" class="checkbox" type="checkbox"  name="{{item?.title}}" id="{{item?.id}}" (click)="counter(checked,item,i)" #checked>
                                                <span *ngIf="item?.id!=7" class="checkmark"></span>
                                              </label>
                                </td>
                                <td>
                                    <label class="container" for="score">
                                        {{item?.score}}
                                    </label>
                                </td>

                                <!-- <td></td> -->
                            </tr>
                            <!-- <hr> -->
                            <tr style="font-weight:700">
                                <!-- <td></td> -->
                                <td>
                                    <label class="container" for="">Total Score:</label>
                                </td>
                                <td>
                                    <label class="container" for="score">
                                            {{score}}
                                    </label>

                                </td>
                            </tr>
                            <!-- <hr> -->

                        </table>
                        <div class="row">
                            <div class="col-md-12" style="text-align: end; padding: 0 20px 5px 0; ">
                                <button [disabled]="loading" class="btn btn-primary" (click)="evaluateShop()">
                    <i [ngClass]="{'fa fa-spinner fa-spin': loading}"></i>
                    Evaluate</button>
                            </div>
                        </div>

                    </div>
                </div>




            </div>
        </div>
    </div>

</div>


<div bsModal #childModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-child-name">
    <div class="modal-dialog ">
        <div class="modal-content" (click)="rotateImage()" style="cursor:pointer" title="click to rotate Image" [ngClass]="{'rotated-image-0': rotationDegree==0, 'rotated-image-90': rotationDegree==90, 'rotated-image-180': rotationDegree==180, 'rotated-image-270': rotationDegree==270, 'rotated-image-360': rotationDegree==360}">
            <!-- {{rotationDegree}} -->

            <!-- <div class="modal-header">
                <h4 id="dialog-child-name" class="modal-title pull-left">{{selectedShop.title}}</h4>
                <button type="button" class="close pull-right" aria-label="Close" (click)="hideChildModal()">
          <span aria-hidden="true">&times;</span>
        </button>
            </div> -->
            <div class="modal-body" style="padding:10px">
                <img src="{{ip}}{{selectedShop?.url}}" alt="" srcset="">
            </div>
        </div>
    </div>
</div>

<!-- remarks modal -->
<div bsModal #remarksModal="bs-modal" [config]="{backdrop: 'static',keyboard:false}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-child-name">
    <div class="modal-dialog ">
        <div class="modal-content">
            <!-- <div class="modal-header">
                <h4 id="dialog-child-name" class="modal-title pull-left">Remarks</h4>
                <button type="button" class="close pull-right" aria-label="Close" (click)="hideRemarksModal()">
              <span aria-hidden="true">&times;</span>
            </button>
            </div> -->
            <div class="modal-body" style="padding:10px">


                <label id="example-radio-group-label">Pick your remarks for ({{selectedCriteria?.title}})</label>
                <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group" [(ngModel)]="selectedRemarks">
                    <mat-radio-button class="example-radio-button" *ngFor="let remark of remarksList" [value]="remark.id">
                        {{remark.description}}
                    </mat-radio-button>
                </mat-radio-group>


                <div class="row">
                    <div class="col-md-12" style="text-align: end; padding: 0 20px 5px 0; ">
                        <button class="btn btn-default" (click)="cancelCriteriaSelection()">cancle</button>
                        <button class="btn btn-primary" (click)="getCriteriaWithRemarks(selectedRemarks,selectedCriteria)">Submit</button>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>